jQuery(function(a){function c(e){var d=a(e.parents("tr")[0]).find("td"),f=a("tr#jcp_progpress_sample_output");if(e.text().indexOf("View")===0){e.text(e.text().replace(/^View +/,""));d.fadeIn("slow");f.fadeIn("slow")}else{e.text("View "+e.text());d.fadeOut("slow");f.fadeOut("slow")}}var b=function(){var g=a(this),d,f,e;if(g.data("loaded")){c(g)}else{d=g.attr("href");a.get(d,function(h){f=a(g.parents("tr")[0]);e=a("td",f);e.append(a("<span>Please wait...</span>"));e.fadeOut("slow",function(){e.html(a('<pre style="overflow:auto;" />').text(h));g.attr("href","#").attr("target","");g.data("loaded",true);c(g)});a("head").append(a('<style type="text/css"/>').text(h))})}return false};a("#jcp_progpress_preview_styles").bind("click",b)});